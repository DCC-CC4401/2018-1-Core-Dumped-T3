{% extends "base.html" %}

{% load staticfiles %}

{% block title %}{{ article.name }} [{{ article.pretty_status|upper }}]{% endblock %}
    
{% block content %}
  <div class="container-fluid w-75 mt-5">
    <div class="row justify-content-start align-items-center">
      <div class="col-auto">
        <h1>{{ article.name }}</h1>
      </div>
      <div class="col-auto status {% if "Disponible" in article.pretty_status %}available{% elif "préstamo" in article.pretty_status%}loan{% elif "reparación" in article.pretty_status %}repairs{% else %}lost{% endif %} pt-1">
        <h2>{{ article.pretty_status }}</h2>
      </div>
    </div>
    <div class="row p-1">
      <div class="col-md-7 ml-0 pr-5">
        <div class="row">
          <div class="col-md-12 my-5 mr-3">
            <img class="mx-auto d-block" style="max-width:inherit;max-height:500px;" src="{% static article.image.url %}">
          </div>
          <div class="col-md-12" style="border-style:dashed;border-radius:5px;border-width:1px;font-size:larger;">
            {{ article.description }}
          </div>
        </div>
      </div>
      <div class="col-md-5 ml-auto pl-5 border border-dark">
        <div class="w-100">
          <h2>Solicitar Reserva</h2>
        </div>
        <div class="w-100">
          Aquí va formulario de reservas
        </div>
        <div class="w-100">
          <h2>Próximas Reservas</h2>
        </div>
        <div class="border border-dark w-100 scrollable" style="max-height:350px;">
          <ul>
          {% if reservations %}
            {% for reservation in reservations %}
            <li>
              {{ reservation.initial_date|date:"d\/m\/Y H\:i"}} a {{ reservation.end_date|time:"H\:i" }} hrs.
            </li>
            {% endfor %}
          {% else %}
            <li>
              Este artículo aún no ha sido reservado
            </li>
          {% endif %}
          </ul>
        </div>
      </div>
    </div>
  </div>
{% endblock %}